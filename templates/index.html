<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoodLoop - Daily Log</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body>
    <nav class="navbar navbar-light bg-white mb-4">
        <div class="container d-flex justify-content-between align-items-center">
            <span class="navbar-brand mb-0 h1" style="font-weight: 700; letter-spacing: 1px; font-size: 2rem;">MOODLOOP</span>
            <div>
                <a class="nav-link d-inline fw-bold" href="/">Daily Log</a>
                <a class="nav-link d-inline fw-bold" href="/trends">Trends</a>
            </div>
        </div>
    </nav>
    <main class="container">
        <form action="{{ url_for('log_entry') }}" method="POST">
            <input type="hidden" name="date" id="date">
            <section class="card mb-4 p-4 shadow-sm border-0 rounded-4">
                <h2 class="mb-2" style="font-weight:700;">Today's Mental Check-In</h2>
                <p class="mb-3 text-muted">How are you feeling today?<br><span style="font-size:0.95em;">Rate from 1 to 10 (10 being excellent)</span></p>
                <div class="row g-4 align-items-center">
                    <div class="col-md-6">
                        <label class="fw-bold mb-1">Overall Feeling</label>
                        <div class="d-flex align-items-center mb-2">
                            <span id="emoji-overall_feeling" class="emoji-pulse me-2" style="font-size:1.5rem;"><span>üòê</span></span>
                            <input type="range" class="form-range flex-grow-1 mx-2" min="1" max="10" id="overall_feeling" name="overall_feeling" required>
                            <span id="value-overall_feeling" class="ms-2 fw-bold">6</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label class="fw-bold mb-1">Self Confidence</label>
                        <div class="d-flex align-items-center mb-2">
                            <span id="emoji-self_confidence" class="emoji-pulse me-2" style="font-size:1.5rem;"><span>üòê</span></span>
                            <input type="range" class="form-range flex-grow-1 mx-2" min="1" max="10" id="self_confidence" name="self_confidence" required>
                            <span id="value-self_confidence" class="ms-2 fw-bold">6</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label class="fw-bold mb-1">Self Worth</label>
                        <div class="d-flex align-items-center mb-2">
                            <span id="emoji-self_worth" class="emoji-pulse me-2" style="font-size:1.5rem;"><span>üòê</span></span>
                            <input type="range" class="form-range flex-grow-1 mx-2" min="1" max="10" id="self_worth" name="self_worth" required>
                            <span id="value-self_worth" class="ms-2 fw-bold">6</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label class="fw-bold mb-1">Energy Levels</label>
                        <div class="d-flex align-items-center mb-2">
                            <span id="emoji-energy_levels" class="emoji-pulse me-2" style="font-size:1.5rem;"><span>üòê</span></span>
                            <input type="range" class="form-range flex-grow-1 mx-2" min="1" max="10" id="energy_levels" name="energy_levels" required>
                            <span id="value-energy_levels" class="ms-2 fw-bold">6</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label class="fw-bold mb-1">Physical Wellness</label>
                        <div class="d-flex align-items-center mb-2">
                            <span id="emoji-physical_wellness" class="emoji-pulse me-2" style="font-size:1.5rem;"><span>üòê</span></span>
                            <input type="range" class="form-range flex-grow-1 mx-2" min="1" max="10" id="physical_wellness" name="physical_wellness" required>
                            <span id="value-physical_wellness" class="ms-2 fw-bold">6</span>
                        </div>
                    </div>
                </div>
            </section>
            <section class="card mb-4 p-4 shadow-sm border-0 rounded-4">
                <h3 class="fw-bold mb-2">Daily Actions</h3>
                <p class="text-muted mb-3">Check all that apply today</p>
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="slept_well" name="slept_well">
                            <label class="form-check-label" for="slept_well">Slept well last night</label>
                        </div>
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="ate_well" name="ate_well">
                            <label class="form-check-label" for="ate_well">Ate healthy food</label>
                        </div>
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="cold_water" name="cold_water">
                            <label class="form-check-label" for="cold_water">Experienced cold water</label>
                        </div>
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="meditated" name="meditated">
                            <label class="form-check-label" for="meditated">Meditated</label>
                        </div>
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="low_stress_event" name="low_stress_event">
                            <label class="form-check-label" for="low_stress_event">Had low stress event</label>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="high_stress_event" name="high_stress_event">
                            <label class="form-check-label" for="high_stress_event">Had high stress event</label>
                        </div>
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="physical_anxiety" name="physical_anxiety">
                            <label class="form-check-label" for="physical_anxiety">Had physical anxiety overwhelm</label>
                        </div>
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="anxious_moment" name="anxious_moment">
                            <label class="form-check-label" for="anxious_moment">Had anxious moment</label>
                        </div>
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="displayed_courage" name="displayed_courage">
                            <label class="form-check-label" for="displayed_courage">Displayed courage</label>
                        </div>
                        <div class="form-check mb-2">
                            <input type="checkbox" class="form-check-input" id="comfort_zone" name="comfort_zone">
                            <label class="form-check-label" for="comfort_zone">Did something out of comfort zone</label>
                        </div>
                    </div>
                </div>
            </section>
            <section class="card mb-4 p-4 shadow-sm border-0 rounded-4">
                <h3 class="fw-bold mb-2">Notes</h3>
                <textarea class="form-control" name="notes" id="notes" rows="3" placeholder="Any additional notes about your day..."></textarea>
            </section>
            <button type="submit" class="btn btn-primary btn-lg w-100" style="font-weight:600;">Save Daily Log</button>
        </form>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Set today's date
        document.getElementById('date').value = new Date().toISOString().split('T')[0];
        // Emoji and value update logic for sliders
        function getEmoji(val) {
            if (val == 10) return 'üòÅ';
            if (val > 5) return 'üôÇ';
            if (val == 5) return 'üòê';
            return 'üôÅ';
        }
        ['overall_feeling','self_confidence','self_worth','energy_levels','physical_wellness'].forEach(function(id) {
            var slider = document.getElementById(id);
            var valueSpan = document.getElementById('value-' + id);
            var emojiSpan = document.getElementById('emoji-' + id);
            function update() {
                valueSpan.textContent = slider.value;
                var emoji = getEmoji(Number(slider.value));
                emojiSpan.querySelector('span').textContent = emoji;
                // Add pulse for positive values (6 or above)
                if (Number(slider.value) >= 6) {
                    emojiSpan.classList.add('positive');
                } else {
                    emojiSpan.classList.remove('positive');
                }
            }
            slider.addEventListener('input', update);
            update();
        });
        // Star icon for Displayed Courage
        var courageCheckbox = document.getElementById('displayed_courage');
        function updateCourageStar() {
            if (courageCheckbox.checked) {
                courageCheckbox.classList.add('star-checked');
                courageCheckbox.classList.remove('star-unchecked');
            } else {
                courageCheckbox.classList.remove('star-checked');
                courageCheckbox.classList.add('star-unchecked');
            }
        }
        courageCheckbox.addEventListener('change', updateCourageStar);
        updateCourageStar();
    </script>
</body>
</html> 